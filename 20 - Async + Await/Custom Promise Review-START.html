<!DOCTYPE html>
<html lang="en">

<head>
  <title>Custom Promises</title>
</head>

<body>
  <script>
    function breathe(amount) {
      return new Promise((resolve, reject) => {
        const limit = 500;
        if (amount < limit) {
          reject(new Error(`The amount must be greater than ${limit}. Your amount is ${amount}`));
        }
        return setTimeout(() => resolve(`Breathed for ${amount / 1000} seconds.`), amount);
      });
    }

    // Better than callback hell. Easier to read, at least, without the indentation nightmare.
    breathe(2000)
      .then((res) => {
        console.log(res);
        return breathe(2500);
      })
      .then((res) => {
        console.log(res);
        return breathe(499);
      })
      .then((res) => {
        console.log(res);
      })
      .catch(err => console.error(err));
  </script>
</body>

</html>
